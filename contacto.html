<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contacto | Casona Belga</title>
  <meta name="description" content="Contacto, ubicaci√≥n, horarios y WhatsApp directo." />
  <meta name="theme-color" content="#07070a" />

  <link rel="stylesheet" href="style.css?v=5" />
  <link rel="stylesheet" href="components.css?v=1" />
  <link rel="stylesheet" href="chatbot.css" />
  <link rel="icon" href="assets/logo_casona.png" type="image/png" />

  <link rel="canonical" href="https://www.casonabelga.cl/contacto.html" />
  <link rel="alternate" hreflang="es" href="https://www.casonabelga.cl/contacto.html" />
  <link rel="alternate" hreflang="en" href="https://www.casonabelga.cl/en/contact.html" />
  <link rel="alternate" hreflang="x-default" href="https://www.casonabelga.cl/index.html" />
</head>

<body>
  <header>
    <div class="container nav">
      <div class="brand brand-row">
        <a href="./index.html" class="brand-link" aria-label="Casona Belga - Inicio">
          <img src="assets/logo_casona.png" alt="Logo Casona Belga" class="logo" />
          <div class="brand-text">
            <strong>Casona Belga</strong>
            <span>Contacto</span>
          </div>
        </a>
      </div>

      <nav class="menu">
        <a class="btn" href="carta.html">Restaurante</a>
        <a class="btn" href="habitaciones.html">Hotel</a>

        <!-- Idioma -->
        <a class="btn" href="en/contact.html">ENGLISH</a>

        <a class="btn primary" href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">WhatsApp</a>
      </nav>
    </div>
  </header>

  <main class="container section">
    <div data-animate>
      <h2>Contacto</h2>
    </div>

    <div class="grid" data-animate-stagger>
      <div class="card">
        <h2>WhatsApp (reservas)</h2>
        <p class="muted">La forma m√°s r√°pida.</p>
        <div class="cta-row">
          <a class="btn primary" href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">üü¢ Reservar mesa</a>
          <a class="btn" href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">üõèÔ∏è Hotel</a>
        </div>
        <hr class="sep" />
        <p class="small">Tel√©fono: <a href="tel:+56998244016">+56 9 9824 4016</a></p>
        <p class="small">Email: <a href="mailto:casonabelga@gmail.com">casonabelga@gmail.com</a></p>
      </div>

      <div class="card">
        <h2>Ubicaci√≥n</h2>
        <p class="muted">Bernardo O'Higgins 895, Chile Chico, Ays√©n ¬∑ Chile üá®üá±</p>
        <div style="margin-top: var(--space-md); margin-bottom: var(--space-md);">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2635.8!2d-71.7215!3d-46.5419!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9610e06c0f8d47e9%3A0x537620c01beb3f06!2sCasona%20Belga%20Restaurante!5e0!3m2!1ses!2scl!4v1234567890"
            width="100%"
            height="300"
            style="border:0; border-radius: var(--radius-md);"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
        <div class="cta-row">
          <a class="btn primary" href="https://www.google.com/maps/place/Casona+Belga+Restaurante/data=!4m2!3m1!1s0x0:0x537620c01beb3f06?sa=X&ved=1t:2428&hl=en-GB&ictx=111" target="_blank" rel="noopener">üó∫Ô∏è Abrir en Google Maps</a>
          <a class="btn" href="https://share.google/9nMjn10Yoa6bR6Ah8" target="_blank" rel="noopener">‚≠ê Ver en Google</a>
        </div>
      </div>

      <div class="card">
        <h2>Horarios</h2>
        <div class="list">
          <div class="item">
            <div class="title">Restaurante</div>
            <div class="desc">Lun‚ÄìDom 12:30‚Äì22:30</div>
          </div>
          <div class="item">
            <div class="title">Hotel</div>
            <div class="desc">Lun‚ÄìDom 11:00‚Äì23:30</div>
          </div>
        </div>
      </div>
    </div>

    <!-- FORMULARIO DE CONTACTO -->
    <section class="container section" data-animate>
      <div class="container-narrow">
        <div class="text-center mb-xl">
          <h2>Env√≠anos un Mensaje</h2>
          <p class="lead text-muted">
            ¬øTienes alguna pregunta o solicitud especial? Completa el formulario y te responderemos pronto.
          </p>
        </div>

        <div class="card" style="max-width: 720px; margin: 0 auto;">
          <form id="contact-form">
            <div class="form-group">
              <label for="contact-name" class="form-label">Nombre Completo *</label>
              <input
                type="text"
                id="contact-name"
                name="name"
                class="form-input"
                placeholder="Juan P√©rez"
                required
                minlength="2"
              />
              <div class="form-error">Por favor ingresa tu nombre completo</div>
            </div>

            <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md);">
              <div class="form-group">
                <label for="contact-email" class="form-label">Email *</label>
                <input
                  type="email"
                  id="contact-email"
                  name="email"
                  class="form-input"
                  placeholder="tu@email.com"
                  required
                />
                <div class="form-error">Por favor ingresa un email v√°lido</div>
              </div>

              <div class="form-group">
                <label for="contact-phone" class="form-label">Tel√©fono</label>
                <input
                  type="tel"
                  id="contact-phone"
                  name="phone"
                  class="form-input"
                  placeholder="+56 9 1234 5678"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="contact-subject" class="form-label">Asunto *</label>
              <select id="contact-subject" name="subject" class="form-select" required>
                <option value="">Selecciona un asunto...</option>
                <option value="reservation">Reserva de Habitaci√≥n</option>
                <option value="restaurant">Reserva de Mesa</option>
                <option value="inquiry">Consulta General</option>
                <option value="event">Evento o Grupo</option>
                <option value="feedback">Comentarios</option>
                <option value="other">Otro</option>
              </select>
              <div class="form-error">Por favor selecciona un asunto</div>
            </div>

            <div class="form-group">
              <label for="contact-message" class="form-label">Mensaje *</label>
              <textarea
                id="contact-message"
                name="message"
                class="form-textarea"
                placeholder="Cu√©ntanos m√°s sobre tu consulta o solicitud..."
                required
                minlength="10"
              ></textarea>
              <div class="form-error">Por favor escribe un mensaje (m√≠nimo 10 caracteres)</div>
            </div>

            <div id="contact-alert" style="display: none;"></div>

            <div style="display: flex; gap: var(--space-md); justify-content: flex-end; margin-top: var(--space-lg);">
              <button type="button" class="btn" id="contact-reset">
                Limpiar
              </button>
              <button type="submit" class="form-submit" id="contact-submit">
                Enviar Mensaje
              </button>
            </div>

            <p class="small text-muted" style="margin-top: var(--space-md); text-align: center;">
              * Campos obligatorios. Tambi√©n puedes contactarnos directamente por
              <a href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">WhatsApp</a>
              para una respuesta m√°s r√°pida.
            </p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER MEJORADO -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-section">
          <h4>Casona Belga</h4>
          <p class="small">
            Hotel & Restaurante en Chile Chico, Regi√≥n de Ays√©n. Experiencia patag√≥nica aut√©ntica.
          </p>
        </div>

        <div class="footer-section">
          <h4>Enlaces</h4>
          <ul>
            <li><a href="carta.html">Restaurante</a></li>
            <li><a href="habitaciones.html">Hotel</a></li>
            <li><a href="contacto.html">Contacto</a></li>
            <li><a href="index.html">Inicio</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4>Contacto</h4>
          <ul>
            <li><a href="tel:+56998244016">+56 9 9824 4016</a></li>
            <li><a href="mailto:casonabelga@gmail.com">casonabelga@gmail.com</a></li>
            <li><a href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">WhatsApp</a></li>
            <li><a href="https://www.instagram.com/casonabelga" target="_blank" rel="noopener">Instagram</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="small">
          ¬© <span id="y"></span> Casona Belga ¬∑ Descansa bien, come mejor.
        </div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();
  </script>

  <script src="config.js"></script>
  <script src="script.js" defer></script>
  <script src="chatbot-ai.js" defer></script>

  <script>
    // Contact Form Handler
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('contact-form');
      const submitBtn = document.getElementById('contact-submit');
      const resetBtn = document.getElementById('contact-reset');
      const alertDiv = document.getElementById('contact-alert');

      // Real-time validation
      const inputs = form.querySelectorAll('input[required], select[required], textarea[required]');

      inputs.forEach(input => {
        input.addEventListener('blur', function() {
          validateField(this);
        });

        input.addEventListener('input', function() {
          if (this.parentElement.classList.contains('has-error')) {
            validateField(this);
          }
        });
      });

      function validateField(field) {
        const group = field.closest('.form-group');

        if (!field.checkValidity()) {
          group.classList.add('has-error');
          group.classList.remove('has-success');
          return false;
        } else {
          group.classList.remove('has-error');
          group.classList.add('has-success');
          return true;
        }
      }

      function showAlert(message, type = 'success') {
        alertDiv.innerHTML = `<div class="alert alert--${type}">
          <div class="alert-icon">${type === 'success' ? '‚úì' : type === 'error' ? '‚úï' : 'i'}</div>
          <div class="alert-content">
            <div class="alert-message">${message}</div>
          </div>
        </div>`;
        alertDiv.style.display = 'block';
        alertDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }

      // Form submission
      form.addEventListener('submit', async function(e) {
        e.preventDefault();

        // Validate all fields
        let isValid = true;
        inputs.forEach(input => {
          if (!validateField(input)) {
            isValid = false;
          }
        });

        if (!isValid) {
          showAlert('Por favor corrige los errores en el formulario.', 'error');
          return;
        }

        // Get form data
        const formData = {
          name: document.getElementById('contact-name').value,
          email: document.getElementById('contact-email').value,
          phone: document.getElementById('contact-phone').value,
          subject: document.getElementById('contact-subject').value,
          message: document.getElementById('contact-message').value,
          timestamp: new Date().toISOString()
        };

        // Loading state
        const originalText = submitBtn.textContent;
        submitBtn.textContent = 'Enviando...';
        submitBtn.disabled = true;
        submitBtn.classList.add('is-loading');

        try {
          // In production, send to backend
          // const response = await fetch('/api/contact', {
          //   method: 'POST',
          //   headers: { 'Content-Type': 'application/json' },
          //   body: JSON.stringify(formData)
          // });

          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 1500));

          // Store locally for now
          const submissions = JSON.parse(localStorage.getItem('contact_submissions') || '[]');
          submissions.push(formData);
          localStorage.setItem('contact_submissions', JSON.stringify(submissions));

          // Success
          showAlert('¬°Mensaje enviado exitosamente! Te responderemos pronto por email.', 'success');

          // Reset form
          form.reset();
          inputs.forEach(input => {
            input.closest('.form-group').classList.remove('has-error', 'has-success');
          });

          // Scroll to top of form
          form.scrollIntoView({ behavior: 'smooth', block: 'start' });

        } catch (error) {
          console.error('Error:', error);
          showAlert('Hubo un error al enviar el mensaje. Por favor intenta nuevamente o cont√°ctanos por WhatsApp.', 'error');
        } finally {
          submitBtn.textContent = originalText;
          submitBtn.disabled = false;
          submitBtn.classList.remove('is-loading');
        }
      });

      // Reset button
      resetBtn.addEventListener('click', function() {
        if (confirm('¬øEst√°s seguro de que quieres limpiar el formulario?')) {
          form.reset();
          alertDiv.style.display = 'none';
          inputs.forEach(input => {
            input.closest('.form-group').classList.remove('has-error', 'has-success');
          });
        }
      });
    });
  </script>
</body>
</html>
