<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Book Now | Casona Belga</title>
  <meta name="description" content="Book your room at Casona Belga - Hotel in Chile Chico, Chilean Patagonia" />

  <meta name="theme-color" content="#07070a" />
  <link rel="stylesheet" href="../style.css?v=3" />
  <link rel="stylesheet" href="../booking-calendar.css?v=1" />
  <link rel="icon" href="../assets/logo_casona.png" type="image/png" />

  <link rel="canonical" href="https://www.casonabelga.cl/en/bookings.html" />
  <link rel="alternate" hreflang="es" href="https://www.casonabelga.cl/reservas.html" />
  <link rel="alternate" hreflang="en" href="https://www.casonabelga.cl/en/bookings.html" />
  <link rel="alternate" hreflang="x-default" href="https://www.casonabelga.cl/index.html" />
</head>

<body>
  <header>
    <div class="container nav">
      <div class="brand brand-row">
        <a href="../index.html" class="brand-link" aria-label="Casona Belga - Home">
          <img src="../assets/logo_casona.png" alt="Casona Belga Logo" class="logo" />
          <div class="brand-text">
            <strong>Casona Belga</strong>
            <span>Hotel ¬∑ Bookings</span>
          </div>
        </a>
      </div>

      <nav class="menu">
        <a class="btn" href="rooms.html">Rooms</a>
        <a class="btn" href="menu.html">Restaurant</a>
        <a class="btn" href="contact.html">Contact</a>
        <a class="btn" href="../reservas.html">ESPA√ëOL</a>
        <a class="btn primary" href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">WhatsApp</a>
      </nav>
    </div>
  </header>

  <main class="booking-wrapper">
    <!-- Header -->
    <div class="booking-header">
      <h1>üõèÔ∏è Book Your Stay</h1>
      <p class="muted">Select your room and dates to book at Casona Belga</p>

      <!-- Progress Steps -->
      <div class="booking-steps">
        <div class="step active" data-step="1">
          <span class="step-number">1</span>
          <span>Select dates</span>
        </div>
        <div class="step" data-step="2">
          <span class="step-number">2</span>
          <span>Personal details</span>
        </div>
        <div class="step" data-step="3">
          <span class="step-number">3</span>
          <span>Confirmation</span>
        </div>
      </div>
    </div>

    <!-- Room Selector -->
    <div class="calendar-container">
      <h2>1. Select Your Room</h2>
      <div class="room-selector" id="room-selector">
        <!-- Rooms will be rendered here by JavaScript -->
      </div>

      <!-- Calendar -->
      <h2 style="margin-top: 30px;">2. Select Your Dates</h2>
      <div class="calendar-header">
        <button class="nav-btn" id="prev-month">‚Üê Previous</button>
        <div class="calendar-month" id="calendar-month"></div>
        <button class="nav-btn" id="next-month">Next ‚Üí</button>
      </div>

      <div class="calendar-grid" id="calendar-grid">
        <!-- Calendar will be rendered here by JavaScript -->
      </div>

      <div class="calendar-legend">
        <div class="legend-item">
          <div class="legend-box available"></div>
          <span>Available</span>
        </div>
        <div class="legend-item">
          <div class="legend-box occupied"></div>
          <span>Occupied</span>
        </div>
        <div class="legend-item">
          <div class="legend-box selected"></div>
          <span>Selected</span>
        </div>
      </div>

      <div id="date-selection-summary" style="margin-top: 20px;">
        <div class="info-message">
          <strong>Select your stay dates</strong><br>
          Click on the arrival day and then on the departure day
        </div>
      </div>
    </div>

    <!-- Booking Form (initially hidden) -->
    <div id="booking-form-container" class="booking-form-container" style="display: none;">
      <h2>3. Complete Your Details</h2>

      <div id="form-messages"></div>

      <form id="booking-form">
        <!-- Hidden fields -->
        <input type="hidden" id="room" name="room" />
        <input type="hidden" id="checkIn" name="checkIn" />
        <input type="hidden" id="checkOut" name="checkOut" />

        <!-- Booking Summary -->
        <div class="booking-summary" id="booking-summary">
          <!-- Summary will be rendered here by JavaScript -->
        </div>

        <!-- Guest Details -->
        <div class="form-row">
          <div class="form-group">
            <label for="guestName">Full Name *</label>
            <input type="text" id="guestName" name="guestName" required
                   placeholder="e.g. John Doe" />
          </div>

          <div class="form-group">
            <label for="guests">Number of Guests *</label>
            <select id="guests" name="guests" required>
              <option value="1">1 person</option>
              <option value="2" selected>2 people</option>
              <option value="3">3 people</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="guestEmail">Email *</label>
            <input type="email" id="guestEmail" name="guestEmail" required
                   placeholder="your@email.com" />
          </div>

          <div class="form-group">
            <label for="guestPhone">Phone / WhatsApp *</label>
            <input type="tel" id="guestPhone" name="guestPhone" required
                   placeholder="+56 9 1234 5678" />
          </div>
        </div>

        <div class="form-group">
          <label for="comments">Comments or Special Requests</label>
          <textarea id="comments" name="comments"
                    placeholder="e.g. Need baby crib, food allergy, estimated arrival time, etc."></textarea>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button type="button" class="btn-cancel" id="cancel-booking">
            Cancel
          </button>
          <button type="submit" class="btn-submit" id="submit-booking">
            Submit Booking Request
          </button>
        </div>

        <p class="small muted" style="margin-top: 20px; text-align: center;">
          * By submitting this request, you will receive a confirmation email.
          We will contact you to confirm availability and coordinate payment.
        </p>
      </form>
    </div>

    <!-- Information Section -->
    <div class="calendar-container" style="margin-top: 30px;">
      <h2>üìã Important Information</h2>
      <div class="policies-grid">
        <div class="item">
          <div class="title">Check-in / Check-out</div>
          <div class="desc">
            Check-in from <strong>3:00 PM</strong> ¬∑ Check-out until <strong>11:00 AM</strong>.
            Late Checkout (2:00 PM) available if you have lunch at our restaurant.
          </div>
        </div>

        <div class="item">
          <div class="title">Cancellation</div>
          <div class="desc">
            Free cancellation with <strong>7 days</strong> notice.
            Less than 7 days: no refund (50% of total).
          </div>
        </div>

        <div class="item">
          <div class="title">Weather Policy</div>
          <div class="desc">
            If traveling by ferry and port closes due to weather,
            <strong>we'll move your booking at no cost</strong> (subject to availability).
          </div>
        </div>

        <div class="item">
          <div class="title">Breakfast Included</div>
          <div class="desc">
            All rooms include <strong>breakfast</strong>
            (Monday to Sunday, 7:30-10:00 AM).
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Section -->
    <div style="text-align: center; margin: 40px 0;">
      <h3>Questions?</h3>
      <p class="muted">Contact us on WhatsApp for immediate assistance</p>
      <a class="btn primary" href="https://wa.me/message/TSCZUHZY7LTVJ1"
         target="_blank" rel="noopener" style="margin-top: 15px;">
        üí¨ WhatsApp: +56 9 9824 4016
      </a>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-section">
          <h4>Casona Belga</h4>
          <p class="small">
            Hotel & Restaurant in Chile Chico, Ays√©n Region. Authentic Patagonian experience.
          </p>
        </div>

        <div class="footer-section">
          <h4>Links</h4>
          <ul>
            <li><a href="rooms.html">Hotel</a></li>
            <li><a href="menu.html">Restaurant</a></li>
            <li><a href="bookings.html">Bookings</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4>Contact</h4>
          <ul>
            <li><a href="tel:+56998244016">+56 9 9824 4016</a></li>
            <li><a href="mailto:casonabelga@gmail.com">casonabelga@gmail.com</a></li>
            <li><a href="https://wa.me/message/TSCZUHZY7LTVJ1" target="_blank" rel="noopener">WhatsApp</a></li>
            <li><a href="https://www.instagram.com/casonabelga" target="_blank" rel="noopener">Instagram</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="small">
          ¬© <span id="y"></span> Casona Belga ¬∑ Rest well, eat better.
        </div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    // Configure API URL (change this to your production URL when deploying)
    window.BOOKING_API_URL = 'http://localhost:3000/api';
  </script>

  <script src="../booking-calendar.js" defer></script>
</body>
</html>
